[{"authors":[],"categories":["Informática/SysAdmin"],"content":"En el trabajo se avecina una época de cambios radicales. Para anticiparnos llevamos algunas semanas diseñando, investigando y realizando todo tipo de preparativos.\nEntre las tareas, tocaba preparar algunas máquinas nuevas para reemplazar el último servidor monolítico que aún presta servicio tras más de 10 años, cientos de actualizaciones, varias migraciones tanto de software como de hardware, alguna mudanza (literalmente, transportado entre edificios del campus en el maletero de un coche) y una conversión de físico a virtual a sus espaldas. Así que me puse manos a la obra y preparé una instalación desatendida de Debian 9 «Stretch», la última versión liberada, para ir desgajando el servidor en varios \u0026ldquo;micro—servicios\u0026rdquo;.\n\nUno los servicios se pretende montar sobre Symfony 4 que tiene como requisito mínimo PHP 7.1.3 mientras que Debian distribuye PHP 7.0.30. También son necesarios Node.js junto a Yarn que no se encuentran en los repositorios oficiales de Debian. Tocaba añadir algunos repositorios de terceros que proporcionaran esos paquetes.\nSin embargo, tras configurar como siempre los repositorios, falla la comprobación de una firma. Buscando qué podía pasar, descubro que hay una nueva forma de gestionar los repositorios pero que, como aplicamos cual robot descerebrado las recetas de siempre repetidas hasta la saciedad en blogs/FAQ/tutoriales desfasados, había pasado completamente desapercibida en la documentación oficial.\nAsí que me planteé describir la nueva forma para arrojar un poco más de luz. Aunque está orientado a Debian probablemente sea de aplicación a todas las distribuciones derivadas de ella (Ubuntu, Mint…) pero es imprescindible leer la documentación o manuales al respecto.\nEste artículo está plagado de simplificaciones ya que el objetivo es ser una referencia sencilla de fácil comprensión y no una detallada e intrincada explicación técnica.\nPara quienes estén interesados en profundizar en los distintos aspectos, se proporcionan enlaces a la documentación.\n Repositorios en Debian Simplificando muchísimo, los repositorios en Debian suelen ser webs (aunque pueden usarse otros protocolos) que proporcionan los distintos paquetes junto a índices/metadatos que entiende APT.\nDesde siempre, los repositorios que se querían utilizar se listaban en el fichero /etc/apt/sources.list que, tras la instalación, suele tener cuatro o cinco fuentes en función de las elecciones tomadas en el instalador.\ndeb http://deb.debian.org/debian stretch main non-free contrib deb-src http://deb.debian.org/debian stretch main non-free contrib deb http://deb.debian.org/debian-security stretch/updates main contrib non-free deb-src http://deb.debian.org/debian-security stretch/updates main contrib non-free # stretch-updates, previously known as 'volatile' deb http://deb.debian.org/debian stretch-updates main contrib non-free deb-src http://deb.debian.org/debian stretch-updates main contrib non-free # stretch-backports, previously on backports.debian.org deb http://deb.debian.org/debian stretch-backports main contrib non-free deb-src http://deb.debian.org/debian stretch-backports main contrib non-free  Si se necesitaban paquetes de otro repositorio, simplemente se añadían líneas al fichero, se actualizaba y los paquetes quedaban accesibles. Los repositorios proliferaron, habitualmente proporcionando paquetes que no cumplían las políticas para entrar en los oficiales o proporcionando versiones más actualizadas, llegando el punto en el que surgieron webs capaces de generar el fichero según los repositorios que el usuario elegía de una inmensa lista1.\nSegún se añaden más y más repositorios, el fichero crece en tamaño y complejidad, llegando a resultar poco manejable y muy propenso a errores. Para abordar este problema surge el directorio /etc/apt/sources.list.d/ en el que se podían añadir ficheros, con el mismo formato y extensión, que se cargaban como si se tratara del /etc/apt/sources.list. Esto permitía organizar así los repositorios en varios grupos simplificando la gestión: podría desactivarse uno de ellos eliminando o cambiando la extensión sin necesidad de buscar y editar un fichero de cientos de líneas.\nLa práctica habitual es reservar el fichero /etc/apt/sources.list para las entradas de los repositorios oficiales (básicamente, las que genera el instalador) y crear un fichero para cada repositorio de terceros en el directorio /etc/apt/sources.list.d/.\nVerificando paquetes Otro de los aspectos importantes es verificar el origen y la integridad de los paquetes. Debian utiliza la firma digital basada en GPG desde el año 20052: existe un fichero denominado Releases que se distribuye junto a su firma (Releases.gpg) mediante una clave que únicamente tiene el administrador del repositorio.\nEl fichero Releases contiene un hash de comprobación de varios ficheros de metadatos que, a su vez, contienen otros hashes cubriendo todos los ficheros de los paquetes distribuidos. Cualquier modificación en cualquier fichero hará que cambie su hash de comprobación, alterará alguno de los ficheros de metadatos y por lo tanto cambiará el fichero Releases y su firma Relases.gpg.\nCada vez que se descarga algo del repositorio, se verifica la firma de este fichero y los distintos hashes de comprobación. En el caso de que alguno no coincida, se asume que está comprometido y no se utiliza en el proceso de instalación o actualización de paquetes.\nEste mecanismo, ampliamente utilizado en informática, permite verificar que los paquetes son los que deberían ser, pero deja un asunto pendiente: la gestión de la confianza en las claves de firma de los distintos repositorios.\nEsta gestión se realizaba mediante la herramienta apt-key (un recubrimiento de GPG). En las instrucciones para añadir el repositorio se solía indicar la forma de obtener la clave pública GPG que, normalmente, se dejaba en la raíz del repositorio consultable por HTTP o se subía a algún servidor de claves, y cómo confiar en ella.\nwget -qO - http://thirdparty.example.com/archive.key | sudo apt-key add -  Inicialmente apt-key almacena esta información en un llavero GPG situado en /etc/apt/trusted.gpg, que contiene todas las claves de confianza. Cuando APT realiza la verificación de cualquier firma, comprueba si está generada por alguna de las claves de confianza registradas en el fichero para decidir si se considera válido o no.\nDe manera similar a la aparición del directorio /etc/apt/sources.list.d/, aparece el directorio /etc/apt/trusted.gpg.d/ para poder tener cada clave por separado en lugar de tener que gestionar el llavero añadiendo/borrando claves, un paralelismo evidente.\nNuevo sistema Entre los ficheros /etc/apt/sources.list y /etc/apt/trusted.gpg (y sus variantes en directorio) existe una pequeña y sutil diferencia que genera serias implicaciones: las listas de repositorios son claramente globales para toda la instalación mientras que las claves son de aplicación para un repositorio concreto. Sin embargo, tanto el fichero /etc/apt/trusted.gpg como el directorio /etc/apt/trusted.gpg.d/, tienen carácter global: una clave almacenada en ellos validará cualquier repositorio.\nLo ideal sería indicar de manera unívoca qué clave debe utilizarse para validar las firmas de cada repositorio. Y ahora es posible, aunque hay que cambiar ligeramente la forma de trabajar3.\nEl primer cambio: no se utilizará apt-key (/etc/apt/trusted.gpg) o el directorio /etc/apt/trusted.gpg.d/. En su lugar las claves públicas se almacenarán en /usr/share/keyrings/ como una clave GPG binaria4. Estas claves se podrán obtener desde la raíz del repositorio (en un fichero denominado [repo]-archive-keyring.gpg) o desde algún servidor de claves.\nEl segundo cambio es que es necesario indicar expresamente la clave de firma utilizada en cada repositorio, añadiendo el parámetro signed-by a las entradas en el /etc/apt/sources.list.d/\ndeb [signed-by=/usr/share/keyrings/thirdparty-archive-keyring.gpg] https://thirdparty.example.com/debian/ stable main deb-src [signed-by=/usr/share/keyrings/thirdparty-archive-keyring.gpg] https://thirdparty.example.com/debian/ stable main  Aunque es posible añadir la opción en los ficheros .list existentes, existe un nuevo formato para definir los repositorios que está recomendado.\nEl formato deb822 En lugar de entradas deb\u0026nbsp;/\u0026nbsp;deb-src en un fichero .list, está recomendado utilizar el formato deb822 para definir los repositorios a incluir.\nBasta con crear un fichero con extensión .sources en el directorio /etc/apt/sources.list.d/\nTypes : deb deb-src URIs : https://thirdparty.example.com/debian/ Suites : stable Components : main Signed-By : /usr/share/keyrings/thirdparty-archive-keyring.gpg  El formato es más conciso y mucho más potente al generar el producto cartesiano de todas las opciones. Esto redunda en una menor probabilidad de error.\nUsando uno de los ejemplos de página man sources.list (5), el fichero .sources:\nTypes : deb deb-src URIs : http://deb.debian.org/debian Suites : stable testing unstable Components : main contrib non-free  equivale al fichero .list:\ndeb http://deb.debian.org/debian stable main contrib non-free deb-src http://deb.debian.org/debian stable main contrib non-free deb http://deb.debian.org/debian testing main contrib non-free deb-src http://deb.debian.org/debian testing main contrib non-free deb http://deb.debian.org/debian unstable main contrib non-free deb-src http://deb.debian.org/debian unstable main contrib non-free  Evidentemente, existe una mayor probabilidad de introducir un error en el fichero .list al tener que duplicar múltiples veces la misma información (la URI aparece seis veces). Si se añaden otros parámetros (el signed-by para indicar la clave de firma o la arquitectura\u0026hellip;), la probabilidad aumenta exponencialmente.\nConversión Como este mecanismo es bastante nuevo, es habitual encontrarse con repositorios que siguen distribuyendo claves para descargar en /etc/apt/trusted.gpg.d/ o, incluso, que explican como añadirlas al fichero /etc/apt/trusted.gpg utilizando apt-key. En los peores casos se proporciona un script que automatiza el registro del repositorio y de la clave asociada usando alguno de estos métodos, ocultando las direcciones en el proceso, y que es necesario analizar para poder realizar la conversión.\nCuando se tiene la URL de la clave pública en cualquier formato es relativamente trivial almacenarla como un fichero GPG binario (el ejemplo usa wget aunque se puede usar curl o cualquier otro mecanismo para descargar el fichero):\nwget -qO - http://thirdparty.example.com/debian/thirdparty.gpg | gpg --no-default-keyring --keyring /tmp/thirdparty.gpg --import gpg --no-default-keyring --keyring /tmp/thirdparty.gpg --export --output /usr/share/keyrings/thirdparty-archive-keyring.gpg  Si se distribuye a través de un servidor de claves el proceso es ligeramente diferente:\ngpg --no-default-keyring --keyring /tmp/thirdparty.gpg --keyserver keyserver.example.com --recv-keys [FINGERPRINT] gpg --no-default-keyring --keyring /tmp/thirdparty.gpg --export --output /usr/share/keyrings/thirdparty-archive-keyring.gpg  En ambos casos, el fichero almacenado en /tmp/thirdparty.gpg puede eliminarse sin problemas tras exportar la clave.\nConclusión En resumen, para registrar un repositorio de terceros basta con crear un fichero en /etc/apt/sources.list.d/[reponame].sources con el formato deb822 indicando la clave de firma del mismo (opción Signed-By) que se almacenará en /usr/share/keyrings/[reponame]-archive-keyring.gpg en formato GPG binario. También es posible hacerlo creando el fichero /etc/apt/sources.list.d/[reponame].list con entradas tipo deb o deb-src con dicha opción, aunque está recomendado utilizar el nuevo formato.\nEn cualquier caso, hay que tener precaución antes de instalar paquetes de fuentes desconocidas. Esos paquetes pueden modificar el sistema de manera no deseada y acarrear serios problemas de seguridad o, incluso, legales. Es necesario aplicar el sentido común y entender las implicaciones antes de realizar este tipo de modificación en un sistema.\nPor último, una pequeña reflexión. Cuando se busca información sobre este tema es muy habitual encontrar documentación o tutoriales escritos hace más de 10 años centrados en apt-key (la herramienta usada por aquel entonces) y repetidos constantemente en todo tipo de medios. Es importante fijarse en la fecha de publicación para saber si es posible que la información esté desfasada y contrastarla con publicaciones más recientes (cuidado con el copy\u0026nbsp;\u0026amp;\u0026nbsp;paste) y la documentación oficial. Esto se aplica a todo: probablemente este artículo dentro de 10 años quede desfasado y carezca de validez.\nEjemplos Estos son algunos pequeños scripts que utilizo para configurar repositorios en mis máquinas. Normalmente los uso más como recordatorio o base y suelen requerir algún tipo de modificación.\nEstos scripts precisan ejecutar como root. Antes de ejecutar cualquier tipo de código con esos permisos es necesario comprender las implicaciones.\n Los scripts se proporcionan como ejemplos y sin garantía de ningún tipo. No me hago responsable de que funcionen como es debido o de los daños de cualquier tipo ocasionados por su uso.\n   Aunque algunos de los generadores iniciales han dejado de existir, surgen nuevas alternativas como Debian Sources List Generator o Ubuntu Sources List Generator en las que se pueden ver la ingente cantidad de repositorios que pueden añadirse a estas distribuciones que conocen estas herramientas. ^ La información detallada sobre este mecanismo se puede leer en Secure Apt. ^ La nueva forma de añadir un repositorio de terceros en Debian está descrita en la documentación oficial del proyecto. ^ Justamente este es el punto que me llevó a descubrir esta solución. Al añadir un repositorio bajé esta clave binaria y la añadí a /etc/apt/trusted.gpg.d/. Al ser un formato inválido, la ignoraba generando errores en la verificación de las firmas. ^  ","date":1537382378,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537727988,"objectID":"d4cc1b03e671574493a55b800ef269cc","permalink":"http://ocubom.github.io/es/post/third-party-repositories-debian-9/","publishdate":"2018-09-19T20:39:38+02:00","relpermalink":"/es/post/third-party-repositories-debian-9/","section":"post","summary":"En el trabajo se avecina una época de cambios radicales. Para anticiparnos llevamos algunas semanas diseñando, investigando y realizando todo tipo de preparativos.\nEntre las tareas, tocaba preparar algunas máquinas nuevas para reemplazar el último servidor monolítico que aún presta servicio tras más de 10 años, cientos de actualizaciones, varias migraciones tanto de software como de hardware, alguna mudanza (literalmente, transportado entre edificios del campus en el maletero de un coche) y una conversión de físico a virtual a sus espaldas. Así que me puse manos a la obra y preparé una instalación desatendida de Debian 9 «Stretch», la última versión liberada, para ir desgajando el servidor en varios \u0026ldquo;micro—servicios\u0026rdquo;.\n\n","tags":["APT","Debian","GPG","Linux","Node.js","PHP","PostgreSQL","Stretch","Yarn"],"title":"Configurando repositorios de terceros en Debian 9 «Stretch»","type":"post"},{"authors":null,"categories":null,"content":" ¿Quiénes somos? ¿De dónde venimos? Quizá no sea la persona más adecuada para responder estas preguntas, pero si puedo contestar quién soy yo y qué es esto… o al menos intentarlo.  La primera versión de esta web se creó a finales del año 2000 (no se puede decir una fecha exacta) como la página personal de Oscar Cubo Medina en el servidor departamental. Esta es la novena revisión que se corresponde con la version\u0026nbsp;6.0 (la explicación de la diferencia se puede leer en el resumen de la historia del sitio).\nEl sitio Esta web está generado gracias a Hugo, con el tema Academic, y alojado en GitHub Pages.\nAlgunos elementos están alojados en otros CDN:\n Los tipos de letra en el servicio Google Fonts.\n Los ficheros JavaScript en CDNJS.\n  El autor Hace ya bastantes años participé en una ¿entrevista? curiosa: eran unas preguntas cortas que tenía que responder con lo primero que se me pasara por la cabeza.\nMe hizo gracia y publiqué las respuestas de las preguntas originales a las que, con el tiempo, han ido cambiando.\nPara la ficha  nombre Oscar nick ocubom, aunque empezó siendo ocubo edad variable, cada año una diferente 😉 lugar de nacimiento/residencia: Madrid profesión ingeniero informático perfiles Facebook | GitHub | Google+ | Gravatar | LinkedIn | Twitter  Gadgets  ordenador iMac 27″ (late 2012) portátil Toshiba A500-18Q móvil iPhone 8 Plus tablet iPad 2 otros Apple Watch Series 3  Tecnología  sistema operativo mi equipo en casa lleva MacOS, el del trabajo Windows, administro servidores Linux, mi móvil personal tiene iOS y el del trabajo Android… ¿soy un mercenario? distribución linux Debian\u0026nbsp;(testing) navegador Firefox, aunque solía tener instalado Chrome lenguaje de programación PHP\u0026nbsp;o\u0026nbsp;C/C++ para programar bandas sonoras en general, aunque todo depende del\u0026nbsp;momento backup incremental automático cada hora y con una retencion de al menos un mes (suelo tener el último\u0026nbsp;año) videojuegos aventuras gráficas (Monkey Island, Hollywood Monsters, Broken Sword …) y juegos de estrategia (Age of Empires, Warlords Battlecry …), aunque últimamente me ha dado por Factorio  Muy personal  color luminoso número impares y primos comida casi cualquiera bebida café o chocolate postre con chocolate dulce o salado ambos, dependiendo del momento chocolate o vainilla chocolate, aunque si los mezclamos… canción My Inmortal de Evanescence libro Luces de Bohemia de Valle Inclán comic Superlópez de Jan o tiras cómicas (Garfield, FoxTrot, Dilbert …) película La princesa prometida, Stardust, películas de animación (UP, Wall-e …) serie 7 vidas, por arrancar muchas sonrisas instrumento piano o violín, aunque sea incapaz de tocar cualquiera de ellos prensa, radio o televisión radio (musical) y feeds correo, llamada, SMS, Telegram, WhatsApp… llamada, para temas personales urgentes, y correo electrónico, para el resto… no soy mucho de mensajes ni chats tono de llamada en el móvil versión instrumental de Monkey Island ciudad Madrid lugar la soledad de una buhardilla frase/cita  No, no estamos un poco paranoicos… ¿Sabes cuándo construyó Noe el arca? Antes del diluvio. Antes del diluvio.\nNathan Spy Game, 2001     No temáis a las sombras, pues solo son el indicio de que en algún lugar cercano hay una luz\nCálico Electrónico Avance 2ª temporada    una manía salir (de casa o del coche) con la sensación de que se me olvida algo, he dejado la puerta abierta… y tener que volver para revisarlo un amigo ¿por qué debo elegir? un buen recuerdo una conversación en medio de una nevada un mal recuerdo procuro olvidarlo día semana cualquiera que llueva y esté en la camita hora del día madrugada, que es cuando habitualmente salgo de casa tu horario desde las 5:30 hasta las 22:00—23:00 tu despertador el móvil  ","date":1535298420,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537471429,"objectID":"29aa0ff1d52c408a3585ef9bf218d180","permalink":"http://ocubom.github.io/es/about/","publishdate":"2018-08-26T17:47:00+02:00","relpermalink":"/es/about/","section":"","summary":"¿Quiénes somos? ¿De dónde venimos? Quizá no sea la persona más adecuada para responder estas preguntas, pero si puedo contestar quién soy yo y qué es esto… o al menos intentarlo.  La primera versión de esta web se creó a finales del año 2000 (no se puede decir una fecha exacta) como la página personal de Oscar Cubo Medina en el servidor departamental. Esta es la novena revisión que se corresponde con la version\u0026nbsp;6.","tags":null,"title":"Acerca","type":"page"},{"authors":null,"categories":null,"content":" Publicado originalmente en el año 2008 bajo el título «De las cavernas a los rascacielos, una breve historia» y rebautizado como «Del bajo al ático, breve recorrido por el edificio», este es el resumen de la historia de este sitio y de cómo ha ido evolucionando a lo largo del tiempo.  Este sitio surge como un rincón personal en el servidor del Laboratorio de Sistemas Operativos. Esta idea básica se ha mantenido desde que la primera versión viera la luz, allá por el año 2000. A lo largo del tiempo transcurrido desde entonces, el sitio ha evolucionado en múltiples ocasiones, transmutando tanto su cara como su corazón, siguiendo modas y tendencias o avanzando a contracorriente.\nEl resultado final no es sólo este reducido conjunto de páginas, sino todos los conocimientos y experiencia adquiridos.\nEl tiempo no se detiene para admirar la gloria; se sirve de ella y sigue adelante.\nFrançois-René de Chateaubriand   Planta baja: El umbral del portal La primera versión era una página única HTML con la información básica de contacto. Muy similar a la actual portada salvando aspectos estéticos, estándares, microformatos y la irrupción de las redes sociales.\nEn menos de tres años se crearon al menos 6 versiones y varias sin numeración.\n¡Una cada 3-5 meses!\n A esta página inicial se añadieron algunos contenidos, como una lista de enlaces, y se realizaron múltiples cambios, siguiendo la moda del momento. Estos cambios dieron lugar a varias versiones no numeradas y hasta tres numeradas sin criterio definido.\nPlanta v1.0: Script manuales El primer cambio radical se produjo en la \u0026ldquo;cuarta\u0026rdquo; versión numerada. Este cambio consistió en crear un sistema que permitiera integrar contenido en el diseño global de la web de forma sencilla.\nLa versión 1.0 rompe con la caótica numeración previa carente de criterio.\n Constaba de un proxy que cargaba una página determinada según el argumento que se le pasaba. Las páginas se encontraban en cierta estructura de directorios y consistían en el código PHP/HTML sin cabeceras. Además, existía un fichero de estructura global dónde se almacenaba, para cada clave admitida, sus cabeceras y ubicación del fichero de texto.\nEl sistema funcionaba razonablemente bien pero su principal problema residía el trabajo necesario para añadir o modificar contenidos: crear el código HTML, el CSS asociado a la página (siguiendo ciertas restricciones), crear los directorios correspondientes y modificar la estructura de la web para añadir sus cabeceras y ubicación.\nEsta revisión se bautiza como la versión\u0026nbsp;1.0 y supone el fin de la caótica numeración previa carente de sentido al establecer que el cambio de versión corresponde con un cambio en el gestor del sitio. Las versiones previas se consideraron como \u0026ldquo;el gestor\u0026nbsp;0.x\u0026rdquo;.\nPlanta Web 2.0: Salto a la web colaborativa Debido a lo difícil de realizar el mantenimiento rutinario surge la necesidad crear un sistema que simplificase el proceso el proceso. El análisis del sistema deseado da los “requisitos” de esta nueva web:\n Proxy que carga las páginas apropiadas (almacenadas en ficheros de texto en una estructura de directorios)\n Interfaz que permite editar dichos ficheros de forma cómoda vía web.\n  En resumen, se trata de un wiki con soporte en ficheros de texto plano y restricción de edición. Entonces, ¿para qué reinventar la rueda? Existen numerosas implementaciones de wiki y no es descabellado pensar que alguno cumpla esos requisitos. Solamente había que buscar\u0026hellip; hasta que apareció DokuWiki.\nLa segunda versión se publicó en octubre de 2004 coincidiendo con los albores de lo que acabó denominánodse web\u0026nbsp;2.0 (el primer, que no último, guiño del\u0026nbsp;destino).\n Pero la evolución no se detiene ahí, surgen nuevas tecnologías que cubren ciertas necesidades y poco a poco emerge lo que se acabó denominando web\u0026nbsp;2.0. A la web existente se añade un blog para publicar las noticias relativas a la web y, poco después, un álbum de fotos.\nAmbos sistemas van cobrando poco a poco protagonismo y se cambia de aplicaciones de forma paralela a su crecimiento. El blog no tarda en alcanzar en importancia a la web por lo que sus necesidades se ven incrementadas migrando los contenidos hasta en tres ocasiones pasando por sphpblog, Serendipity y Wordpress.\nPlanta 3ª: Unificando el caos (v3.0) El resultado final son tres aplicaciones diferentes para gestionar cada parte de la web: DokuWiki para la página principal, Wordpress para el blog y Gallery para la galería de fotos. Se inician varios intentos de unificación con diverso grado de éxito: Wordpress y Gallery disponen de un procedimiento estándar que los \u0026ldquo;integra a la perfección\u0026rdquo; mientras que es necesario desarrollar diversos scripts para integrar cosas en DokuWiki. La vorágine de actualizaciones con la salida de Wordpress\u0026nbsp;2.3 dificulta el mantenimiento y rompe varias veces la endeble integración lograda.\nLa tercera versión se instala en un momento de muchos cambios, tanto personales como profesionales.\nSe convierte en el sistema más\u0026nbsp;efímero.\n Tras unos meses de abandono, finalmente se decide migrar todo a un único sistema capaz de proporcionar toda la funcionalidad deseada. El elegido en este caso es Drupal que, con su gran flexibilidad, permite unificar en un único script todas las partes de la web simplificando notablemente su gestión.\nPlanta 4ª: retorno a los orígenes El sistema basado en Drupal duró poco tiempo activo, no debido a que la solución fuera mala o no funcionara, sino a un cambio en la concepción del sitio: de mantener todo alojado en el servidor web bajo control se pasó a utilizar servicios gratuitos ya existentes que simplificaban la labor de gestión. El blog pasó a estar alojado en Wordpress.com, la galería de imágenes en Flickr\u0026hellip;\nEste cambio de filosofía coincide con el inicio del OpenID. Buscando un proveedor adecuado, apareció Mi ID un servicio español que además permite resumir todos los servicios en un único lugar. Por desgracia, al poco tiempo el servicio cerró.\nLos contenidos estaban siendo migrados y, por primera vez en ocho años, el sitio perdía importancia a la par que se migraba el contenido a los servicios elegidos. Tras unas semanas de madurar la decisión de suprimir la web se optó por una solución intermedia: mantener la información básica de la portada y enlaces al resto de los servicios. Poco después se populariza el término que mejor define esta nueva portada: lifestreaming.\nEn la cuarta versión se migró a servicios de terceros dejando una web básica pero con detalles muy cuidados y un gran respeto por los estándares ¡Aguantó 8 años sin\u0026nbsp;modificaciones!\n En esta nueva etapa se volvió a un sistema implementado ad-hoc pero haciendo uso de la experiencia acumulada. En este caso se optó por utilizar bibliotecas asentadas que simplifiquen el desarrollo permitiendo que, en un futuro, pueda ampliarse la funcionalidad y contenidos. Además, este desarrollo sirve de campo de prueba de dichas tecnologías.\nAunque en los sitios anteriores se intentaba mantener, en esta fase cobra gran relevancia el seguimiento de los estándares. Tanto el código de cada página como la hoja de estilos son validados, y se comprueba que la visualización es correcta con múltiples navegadores tanto con como sin JavaScript (se realizaron pruebas sobre los, por aquel entonces, novedosos Firefox\u0026nbsp;3.0.7, Internet Explorer\u0026nbsp;7\u0026nbsp;/\u0026nbsp;8 y Opera\u0026nbsp;9.64).\nPor extraño que parezca, alcanzar este requisito no supuso un gran esfuerzo gracias, en parte, a la plantilla utilizada. Fruto de este cuidado, aparecen tres iconos en el pie de cada página indicando el apego a los estándares.\nPlanta HTML5: static boom Superada ampliamente la década de historia del sitio, y en medio de una feroz crisis económica, la red está convulsa. HTML5, CSS3, dispositivos, aplicaciones móviles, nativo vs webapp, responsible design\u0026hellip; son términos que definen la nueva web mientras que Facebook, LinkedIn, Tuenti, Twitter\u0026hellip; acaparan cientos de millones de usuarios y el tándem Git/Github revoluciona el desarrollo colaborativo de código. Un panorama radicalmente distinto al existente en el ya lejano 2000.\nUn nuevo guiño del destino: la v5.0 de la web coincide con el boom del\u0026nbsp;HTML5\n Curiosamente uno de los \u0026ldquo;extras\u0026rdquo; que proporciona Github, que nace como un híbrido entre forja de proyectos y red social, es el germen de la revolución de este sitio: la posibilidad de alojar páginas estáticas para usuarios, proyectos\u0026hellip;\nAunque inicialmente parece un atraso, las nuevas posibilidades que proporciona el dúo HTML5+CSS3, junto con las implicaciones de la desaparición del backend hacen muy atractiva esta opción. Surgen diversas aplicaciones que permiten generar estas páginas estáticas de forma sencilla, muchas de ellas en el ámbito de Ruby.\nTras la migración se configuró una redirección desde el servidor a los distintos servicios.\nEl único resto del paso por esa\u0026nbsp;máquina.\n Tras mucho sopesarlo, la web se hace mayor, migra a un generador de páginas estáticas (Nanoc) y ¡se emancipa del servidor que la vió nacer! recalando en GitHub Pages. Un cambio absolutamente radical que, gracias a las herramientas utilizadas, se realiza en pocos días y con muy pocos problemas.\nPlanta 6ª: cerrando el círculo El sitio estático basado en Nanoc se mantuvo durante 6 años. Al inicio se realizaron algunos pequeños cambios pero poco a poco fue paralizándose. Lo mismo sucedió con el resto de servicios: algunas entradas, cada vez más esporádicas en el blog, fueron las únicas actualizaciones en lo que en algún momento conformó el sitio original. La actividad se redujo a redes sociales, principalmente Twitter, aunque algunas de ellas se cerraron.\nEsta situación se debe a múltiples motivos que se pueden resumir en que que coincidió, en su mayor parte, con una época muy convulsa tanto a nivel profesional como personal que obligó a reajustar prioridades. La web cayó casi en el olvido, sin ánimos para reactivarla y actualizarla (cosa que se convirtió en prácticamente imposible al perderse los fuentes con lo que se generaba).\nLos fuentes de la versión estática generada con Nanoc se perdieron durante una fase profesional y personal muy convulsa.\n Sin embargo, cuando el sitio estaba a punto de llegar a la mayoría de edad, surgen ánimos renovados de revivir la web. Durante esta etapa convulsa, el mundo ha seguido su evolución y el panorama vuelve a ser bastante diferente con nuevos contendientes y tecnologías.\nDurante varios meses se analizan varias alternativas buscando mantener el espíritu (sitio estático alojado en GitHub pages) pero atajando los defectos del actual sistema: casi todo el esfuerzo se consumía en el mantenimiento de las múltiples personalizaciones de la plataforma de la web drenando el tiempo y las ganas. Algo similar ocurría con el blog que no se actualizaba por el tedio de tener que trabajar en el formato.\nCuriosamente, en este caso se busca una regresión: unificar nuevamente la web con el blog y simplificarlo todo para centrar los esfuerzos en lugar de disgregarlos en mantener varias plataformas. Además, se prioriza el uso de Markdown para la escritura. Todo orientado a simplificar y dedicar el tiempo a crear contenido.\nFinalmente, se decició utilizar un nuevo generador Hugo, la plantilla Academic y se migraron las pocas páginas que componían la web. Al contrario que en casos anteriores se decide mantener el blog en su alojamiento como histórico aunque puede que alguna entrada se rescriba y actualize para esta nueva etapa.\nMirando al ático Tras la reactivación del sitio, la intención es publicar algunas entradas que se han ido dejando olvidadas junto con la revisión y actualización de algunos de los artículos más relevantas publicados en el blog.\nA largo plazo, no es fácil hacer una predicción. Pero\u0026hellip; ¿para qué fijarse en el futuro teniendo el presente?\n","date":1535298420,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537471429,"objectID":"c2ebce4ce8fe2cc68965626531a174e0","permalink":"http://ocubom.github.io/es/history/","publishdate":"2018-08-26T17:47:00+02:00","relpermalink":"/es/history/","section":"","summary":"Publicado originalmente en el año 2008 bajo el título «De las cavernas a los rascacielos, una breve historia» y rebautizado como «Del bajo al ático, breve recorrido por el edificio», este es el resumen de la historia de este sitio y de cómo ha ido evolucionando a lo largo del tiempo.  Este sitio surge como un rincón personal en el servidor del Laboratorio de Sistemas Operativos. Esta idea básica se ha mantenido desde que la primera versión viera la luz, allá por el año 2000.","tags":null,"title":"Del bajo al ático, breve recorrido por el edificio","type":"page"},{"authors":null,"categories":null,"content":" La información de este sitio está sujeta a una cláusula de exención de responsabilidad y a un aviso de derechos de autor.\nExención de responsabilidad Oscar Cubo Medina mantiene este sitio con fines informativos. El objetivo es mantener esta información precisa y actualizada, por lo que si se reportan errores u omisiones, se intentará corregirlos. Sin embargo, el propietario no acepta responsabilidad alguna con respecto a la información de este sitio.\nEl contenido de este sitio es\n meramente informativo y no confiere derechos ni expectativas de derechos;\n de carácter general y no pretende abordar las circunstancias específicas de ningún individuo o entidad;\n no necesariamente exhaustivo, completo, exacto o actualizado;\n enlazado en ocasiones a sitios externos sobre los que el propietario no tiene ningún control y por los que el propietario no asume responsabilidad alguna derivada de la conexión o del contenido;\n no asesoramiento profesional, médico o legal (si necesita asesoramiento específico, siempre debe consultar a un profesional debidamente cualificado).\n  Tanto el acceso a este sitio web como el uso que pueda hacerse de la información contenida en el mismo es de la exclusiva responsabilidad de quien lo realiza. El autor no responderá de ninguna consecuencia, daño o perjuicio que pudieran derivarse de dicho acceso o uso de la información.\nEl titular se reserva la facultad de efectuar, en cualquier momento y sin necesidad de previo aviso, modificaciones y actualizaciones sobre los contenidos, configuración o presentación de la web.\nAviso de derechos de autor Todo el contenido de este sitio, a menos que se especifique lo contrario, es\n ©\u0026nbsp;Oscar Cubo Medina,\u0026nbsp;2000\u0026nbsp;\u0026mdash;\u0026nbsp;2018  con las excepciones:\n Los recursos proporcionados por Academic theme:\n Copyright\u0026nbsp;©\u0026nbsp;2016\u0026nbsp;\u0026mdash;\u0026nbsp;present\u0026nbsp;George Cushen. Licenciado bajo MIT License.  Los contenidos alojados en servicios externos cuya lista está disponible en acerca del sitio. Dichos contenidos de distribuyen sujetos a sus propios términos.\n  Todos los nombres de productos, logotipos y marcas son propiedad de sus respectivos dueños. Todos los nombres de empresas, productos y servicios usados en este sitio web son sólo para propósitos de identificación. El uso de estos nombres, logotipos y marcas no implica reconocimiento o afiliación alguna.\n","date":1535298420,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537471429,"objectID":"696dc5b0ed7960df739ebd59b8ba8053","permalink":"http://ocubom.github.io/es/legal/","publishdate":"2018-08-26T17:47:00+02:00","relpermalink":"/es/legal/","section":"","summary":"La información de este sitio está sujeta a una cláusula de exención de responsabilidad y a un aviso de derechos de autor.\nExención de responsabilidad Oscar Cubo Medina mantiene este sitio con fines informativos. El objetivo es mantener esta información precisa y actualizada, por lo que si se reportan errores u omisiones, se intentará corregirlos. Sin embargo, el propietario no acepta responsabilidad alguna con respecto a la información de este sitio.","tags":null,"title":"Legal","type":"page"},{"authors":null,"categories":null,"content":" Esta política de privacidad explica cómo este sitio trata la información personal que recibe de sus visitantes.\nProtección de datos personales Como sitio estático, por si mismo, no recopila datos, utiliza cookies ni requiere un registro, pero el sitio\n utiliza Google Analytics;\n está alojado entre GitHub Pages, Google Fonts y CDNJS.\n  Merece la pena revisar\n Política de privacidad de GitHub para GitHub Pages;\n Política de privacidad de Google tanto para Google Analytics como Google Fonts;\n Política de privacidad de Cloudflare para CDNJS.\n  Sin embargo, ninguna información será compartida con nadie excepto la publicación ocasional de estadísticas agregadas anónimas en el sitio mismo.\nCookies Una cookie (galleta, en inglés) es un pequeño archivo de texto que un sitio web guarda en el ordenador o dispositivo de un visitante cuando accede al sitio. Estos archivos permiten que el sitio recuerde las acciones y preferencias durante un tiempo para evitar que el visitante tenga que volver a indicarlas en posteriores\u0026nbsp;visitas.\nLas cookies se pueden controlar, agregar o eliminar como se considere. Pueden borrarse y la mayoría de los navegadores tienen opciones para evitar que se guarden. Sin embargo, será necesario volver a establecer las preferencias cada vez que se acceda al sitio.\nEste sitio estático en sí mismo no utiliza cookies, pero cualquiera de los servicios que alojan sus contenidos puede hacerlo. Merece la pena revisar las políticas de privacidad de cada uno de ellos.\n","date":1535271785,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537471429,"objectID":"85f9c962acad9f15067026347a16638c","permalink":"http://ocubom.github.io/es/privacy/","publishdate":"2018-08-26T10:23:05+02:00","relpermalink":"/es/privacy/","section":"","summary":"Esta política de privacidad explica cómo este sitio trata la información personal que recibe de sus visitantes.\nProtección de datos personales Como sitio estático, por si mismo, no recopila datos, utiliza cookies ni requiere un registro, pero el sitio\n utiliza Google Analytics;\n está alojado entre GitHub Pages, Google Fonts y CDNJS.\n  Merece la pena revisar\n Política de privacidad de GitHub para GitHub Pages;\n Política de privacidad de Google tanto para Google Analytics como Google Fonts;","tags":null,"title":"Politica de privacidad","type":"page"},{"authors":[],"categories":["Personal/Blog"],"content":"Por segunda vez, quizá creando tradición, vamos a conservar el título de la entrada de ejemplo en cualquier gestor de contenidos. Esta es la primera entrada de un segundo reinicio y vamos a copiar la idea de aquel ¡Hola Mundo! que escribí en el ya lejano año 2008: resumir cómo hemos llegado aquí y qué podemos esperar a partir de ahora.\n\nHa pasado mucho tiempo desde la última vez que escribí una entrada en mi blog, un largo parón originado por un sinfín de causas en general y por ninguna en particular. Sin embargo, hoy es el día en el que vuelvo a retomar esta faceta con ganas renovadas y, esperemos, que sea durante mucho tiempo.\nPara un reinicio quizá lo más adecuado sea empezar tratando cómo se ha llegado a reactivar el sitio.\nEn busca de las herramientas perdidas Desde hace varios meses, tras pasar una convulsa etapa, planeaba la idea de reactivar tanto de la web como del blog. Sin embargo, entre que las herramientas no ayudaban y el tiempo/ganas no sobraban, la idea no acababa de cuajar. Parecía que se iba a prolongar indefinidamente el estado stand-by catatónico.\nHace unas pocas semanas, por temas de trabajo, dí con Hugo, un generador de sitios estáticos progamado en Go. Algo captó mi atención y decidí investigar un poco más\u0026hellip; y me dí cuenta que había encontrado la pieza que faltaba para materializar la idea.\n¿Qué vi en Hugo para que me decidiera?\n Hugo es un pequeño programa disponible para todos los sistemas operativos y que no necesita ningún tipo de instalación.\n Permite escribir en Markdown, el lenguaje de marcado que utilizo muy intensivamente y que era algo que echaba muchísimo de menos en el blog bajo WordPress.com.\n Por último, pero no menos importante, entre las plantillas disponibles encontré dos que me gustaban pero Academic acabó por decidirme.\n  Tenía todo lo que podía necesitar así que me puse manos a la obra y en un par de días tenía preparado el esqueleto de todo el sitio y este artículo. Sólo faltaba empujarlo al repositorio para culminar la reactivación.\nY ahora, ¿qué? Aunque ahora mi sitio tiene el blog incorporado, al revés que en ocasiones anteriores, voy a mantener ocubom\u0026rsquo;s blog. Quedará como referencia y los artículos se podrán consultar pero no habrá más contenido.\nTodo el nuevo contenido que cree se publicará en este sitio. Probablemente, republique aquí los artículos más relevantes del viejo blog posiblemente actualizándolos para tener junta toda la información relevante.\n¿Qué se puede esperar de este blog? Mi seña de identidad: Ciencia, informática, música, libros y nuevas tecnologías en orden caótico–inexistente.\nBienvenidos a este nuevo viaje aunque desconozcamos el destino.\n","date":1535271785,"expirydate":-62135596800,"kind":"page","lang":"es","lastmod":1537727988,"objectID":"2f471a0f5a39ee7dfe9f3897e3a82fc7","permalink":"http://ocubom.github.io/es/post/hello-world/","publishdate":"2018-08-26T10:23:05+02:00","relpermalink":"/es/post/hello-world/","section":"post","summary":"Por segunda vez, quizá creando tradición, vamos a conservar el título de la entrada de ejemplo en cualquier gestor de contenidos. Esta es la primera entrada de un segundo reinicio y vamos a copiar la idea de aquel ¡Hola Mundo! que escribí en el ya lejano año 2008: resumir cómo hemos llegado aquí y qué podemos esperar a partir de ahora.\n\n","tags":["Academic theme","Blog","Hugo","Static generator"],"title":"¡ Hola Mundo !","type":"post"}]